---
title: Cloud Pak For Data Monitoring Overview
---

## Monitoring Cloud Pak for Data

For monitoring of Cloud Pak for Data we make use of the OpenShift Monitoring framework. The observations generated by Cloud Pak for Data are pushed to the OpenShift Monitoring Prometheus endpoint. This will allow (external) monitoring tools to combine the observations from the OpenShift platform and Cloud Pak for Data from a single source. 

![Monitoring overview](cloud-pak-deployer-monitors.png)

To deploy Cloud Pak for Data Monitors, its is mandatory to enable the OpenShift monitoring. OpenShift monitoring is activated via the `openshift_monitoring` object. For Cloud Pak for Data to be able to push its Prometheus metrics to OpenShift monitoring, the `user_worload` must be set to enabled. To make the openShift monitoring data persistent, the (optional) setting `pvc_storage_class` and `pvc_storage_size_gb` can be set. To enable Prometheus RemoteWrite, use the `remote_rewrite_url`. By default, the OpenShift Container Platform monitoring stack configures the retention time for Prometheus data to be 15 days. You can modify the retention time to change how soon the data is deleted using the optional `retention_period` property. The value is set with a number directly followed by ms (milliseconds), s (seconds), m (minutes), h (hours), d (days), w (weeks), or y (years).

Optionally it is possible to install the community operator of Grafana, which provides the ability to build your own Grafana Dashboards. The `grafana_project` specifies the OpenShift project in which Grafana is deployed. The installation of Grafana creates a default local administrative user with username `root` and password `secret`. Grafana can be accessed via the OpenShift Route that is exposed in the `grafana_project`.

```
openshift_monitoring:
- openshift_cluster_name: pluto-01
  user_workload: enabled
  remote_rewrite_url: http://www.example.com:1234/receive
  retention_period: 15d
  pvc_storage_class: ibmc-vpc-block-retain-general-purpose
  pvc_storage_size_gb: 100
  grafana_operator: enabled
  grafana_project: grafana
```

The observations of Cloud Pak for Data are generated using the zen-watchdog component, which is part of the cpd_platform cartridge and therefore available on each instance of Cloud Pak for Data. Part of the zen-watchdog installation is a set of monitors which focus on the technical deployment of Cloud Pak for Data (e.g. running pods and bound Persistent Volume Claims (pvcs)).

## Add custom monitors

Additional monitors which focus more on the operational usage of Cloud Pak for Data can be deployed as well. These monitors are maintained in a seperate Git repository and be accessed at https://github.com/IBM/cp4d-monitors. Additional information on how to deploy the monitors using either the Cloud Pak Deployer or manual cli commands can be found at this repository.
